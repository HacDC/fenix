name: Build Fenix Firmware for Spaceblimp VIII
run-name: ${{ github.actor }} doesn't know what she's doing ðŸ˜¬
on: 
  push:
    branches:
      - main
jobs:
  Build-Fenix-Action:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v5
      - uses: cachix/install-nix-action@v31
        with:
          nix_path: nixpkgs=channel:nixos-stable
            # - run: nix-build
      - name: Build in nix shell
        shell: 'nix develop --extra-experimental-features nix-command --extra-experimental-features flakes -c bash -e {0}'
        run: 'cd firmware; cargo build'
